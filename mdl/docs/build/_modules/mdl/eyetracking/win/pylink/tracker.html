<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>mdl.eyetracking.win.pylink.tracker &#8212; mdl-eyetracking 0+untagged.126.g75b25b1.dirty documentation</title>
    <link rel="stylesheet" href="../../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../../../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../../../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../../../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../../../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../../../index.html">
          mdl-eyetracking</a>
        <span class="navbar-text navbar-version pull-left"><b>2019-04-10</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../../../../genindex.html">Glossary</a></li>
                <li><a href="../../../../../install.html">Install</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../eyetracking.html">eyetracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../calibration.html">calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../install.html">installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../pylink.html">pylink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../eyelink.html">eyelink</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"></ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <h1>Source code for mdl.eyetracking.win.pylink.tracker</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1">##</span>
<span class="c1"># Copyright (c) 1996-2012, SR Research Ltd., All Rights Reserved</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># For use by SR Research licencees only. Redistribution and use in source</span>
<span class="c1"># and binary forms, with or without modification, are NOT permitted.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># Redistributions in binary form must reproduce the above copyright</span>
<span class="c1"># notice, this list of conditions and the following disclaimer in</span>
<span class="c1"># the documentation and/or other materials provided with the distribution.</span>
<span class="c1">#</span>
<span class="c1"># Neither name of SR Research Ltd nor the name of contributors may be used</span>
<span class="c1"># to endorse or promote products derived from this software without</span>
<span class="c1"># specific prior written permission.</span>
<span class="c1">#</span>
<span class="c1"># THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ``AS</span>
<span class="c1"># IS&#39;&#39; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED</span>
<span class="c1"># TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A</span>
<span class="c1"># PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE REGENTS OR</span>
<span class="c1"># CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span>
<span class="c1"># EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</span>
<span class="c1"># PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR</span>
<span class="c1"># PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF</span>
<span class="c1"># LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING</span>
<span class="c1"># NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span>
<span class="c1"># SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="c1"># $Date: 2012/10/25 19:51:00 $</span>
<span class="c1"># </span>
<span class="c1">#</span>



<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">constants</span>


<span class="c1">## The EyeLinkAddress class is used to hold addresses to EyeLink nodes. An instance of EyeLinkAddress class</span>
<span class="c1">#  can be initialized with the class constructor:</span>
<span class="c1">#   	</span>
<span class="c1">#	\code</span>
<span class="c1"># 	EyeLinkAddress(ip = (100,1,1,1), port = 4000)</span>
<span class="c1">#	\endcode</span>
<span class="c1">#</span>
<span class="c1">#  where &lt;i&gt;ip&lt;/i&gt; is a four-item tuple containing the IP address of the EyeLink node and &lt;i&gt;port&lt;/i&gt; is the port number of</span>
<span class="c1">#  the connection.</span>
<span class="c1">#</span>
<span class="c1">#  For example,</span>
<span class="c1">#	\code</span>
<span class="c1">#	myAddress = EyeLinkAddress((100, 1, 1, 1), 4000)</span>
<span class="c1">#	\endcode</span>
<span class="k">class</span> <span class="nc">EyeLinkAddress</span><span class="p">:</span>
	<span class="c1">## Constructor</span>
	<span class="c1"># @param ip optional ipaddress in tuple form. eg. if the ip address is 192.168.25.48, the tuple form is (192,168,25,48)</span>
	<span class="c1"># The default ip address is 100.1.1.1</span>
	<span class="c1"># @param port optional port value as integer. The default value is 4000.</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">4000</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">ip</span> <span class="o">=</span> <span class="n">ip</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="n">port</span>
	
	<span class="c1">## Returns the IP address of the EyeLink node.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	A four-item tuple (integer) containing the IP address of the EyeLink node.</span>
	<span class="k">def</span> <span class="nf">getIP</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ip</span>

	<span class="c1">## Returns the port number of the EyeLink node.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	An integer for the port number of the connection.</span>
	<span class="k">def</span> <span class="nf">getPort</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span>
		
	<span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">.</span><span class="si">%d</span><span class="s2">.</span><span class="si">%d</span><span class="s2">.</span><span class="si">%d</span><span class="s2">:</span><span class="si">%d</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ip</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">ip</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">ip</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">ip</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>


<span class="c1">## EyelinkMessage class, derived from EyeLinkAddress class, is used to send and receive messages between</span>
<span class="c1">#  EyeLink nodes. Instances of this class are commonly used as the return values of the \c nodeReceive() and</span>
<span class="c1">#  \c getNode() methods of the EyeLinkListener or EyeLink class. An instance of EyelinkMessage class can be</span>
<span class="c1">#  initialized with the class constructor:</span>
<span class="c1">#</span>
<span class="c1">#  	\code</span>
<span class="c1">#	EyelinkMessage(ip = (100,1,1,1), port = 4000, msg = &quot;&quot;)</span>
<span class="c1">#  	\endcode</span>
<span class="c1">#</span>
<span class="c1">#  where &lt;i&gt;ip&lt;/i&gt; is a four-item tuple containing the IP address of the EyeLink node, &lt;i&gt;port&lt;/i&gt; is the port number of the</span>
<span class="c1">#  connection, &lt;i&gt;msg&lt;/i&gt; is the message to be sent to or received from the node.</span>
<span class="c1">#  </span>
<span class="c1">#  For example,</span>
<span class="c1">#	\code</span>
<span class="c1">#	myMessage = EyelinkMessage((100, 1, 1, 1), 4000, &quot;test&quot;)</span>
<span class="c1">#	\endcode</span>
<span class="k">class</span> <span class="nc">EyelinkMessage</span><span class="p">(</span><span class="n">EyeLinkAddress</span><span class="p">):</span>
	<span class="c1">## Constructor</span>
	<span class="c1"># @param ip optional ipaddress in tuple form. eg. if the ip address is 192.168.25.48, the tuple form is (192,168,25,48)</span>
	<span class="c1"># The default ip address is 100.1.1.1</span>
	<span class="c1"># @param port optional port value as integer. The default value is 4000.</span>
	<span class="c1"># @param msg  text message.</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="n">ip</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">4000</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
		<span class="n">EyeLinkAddress</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">port</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span>

	<span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> -- </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">EyeLinkAddress</span><span class="o">.</span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="p">)</span>

	<span class="c1">## Returns the message to be sent to or received from the node.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Text message.</span>
	<span class="k">def</span> <span class="nf">getText</span><span class="p">():</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">msg</span>
		

<span class="c1">## Sample data for left and right eye.</span>
<span class="c1">#</span>
<span class="c1">#  The \c getRightEye() or \c getLeftEye() functions returns an instance of SampleData class, which contains the current </span>
<span class="c1">#  sample position (raw, HREF, or gaze) and pupil size information of the desired eye.  The following methods can </span>
<span class="c1">#  be used to retrieve the attributes of an instance of the SampleData class.  </span>
<span class="c1">#</span>
<span class="c1">#  For example, the x gaze position of the left eye for a given sample can be retrieved as:</span>
<span class="c1">#</span>
<span class="c1">#	\code</span>
<span class="c1">#	newSample = EYELINK.getFloatData()</span>
<span class="c1">#	gaze = newSample. getLeftEye().getGaze()</span>
<span class="c1">#	left_eye_gaze_x = gaze[0]</span>
<span class="c1">#	\endcode</span>
<span class="c1">#</span>
<span class="c1">#  If certain property information not sent for this sample, the value \c MISSING_DATA (or \c 0, depending on the field) </span>
<span class="c1">#  will be returned, and the corresponding bit in the flags field will be zero (see eye_data.h for a list of bits).  </span>
<span class="c1">#  Data may be missing because of the tracker configuration (set by commands sent at the start of the experiment, </span>
<span class="c1">#  from the Set Options screen of the %EyeLink II tracker, or from the default configuration set by the DATA.INI file </span>
<span class="c1">#  for the %EyeLink I tracker).  Eye position data may also be set to \c MISSING_VALUE during a blink.	</span>
<span class="k">class</span> <span class="nc">SampleData</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">,</span><span class="n">hx</span><span class="p">,</span> <span class="n">hy</span><span class="p">,</span><span class="n">pa</span><span class="p">,</span><span class="n">gx</span><span class="p">,</span> <span class="n">gy</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__pupil__</span> <span class="o">=</span><span class="p">(</span><span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">)</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">__headref__</span> <span class="o">=</span> <span class="p">(</span><span class="n">hx</span><span class="p">,</span> <span class="n">hy</span><span class="p">)</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">__area__</span> <span class="o">=</span> <span class="n">pa</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__gaze__</span> <span class="o">=</span> <span class="p">(</span><span class="n">gx</span><span class="p">,</span><span class="n">gy</span><span class="p">)</span>

	<span class="c1">## Display gaze position (in pixel coordinates set by the</span>
	<span class="c1">#  \c screen_pixel_coords command). The first and second</span>
	<span class="c1">#  item of the tuple store the x- and y- coordinate gaze</span>
	<span class="c1">#  position respectively.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getGaze</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__gaze__</span>

	<span class="c1">## HREF angular coordinates. The first and second items of the</span>
	<span class="c1">#  tuple are for the x and y coordinates, respectively.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getHREF</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__headref__</span>
		
	<span class="c1">## Camera x, y of pupil center. The first and second items of</span>
	<span class="c1">#  the tuple store pupil center in the x- and y- coordinate</span>
	<span class="c1">#  respectively.		</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getRawPupil</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pupil__</span>

	<span class="c1">## Pupil size (in arbitrary units, area or diameter as selected).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getPupilSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__area__</span>
			

	<span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="s2">&quot; </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> &quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__pupil__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__pupil__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">__headref__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__headref__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">__area__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__gaze__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__gaze__</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
	

<span class="c1">## The EyeLink toolkit library defines special data classes that allow the same programming calls to be used on </span>
<span class="c1">#  different platforms such as MS-DOS, Windows, and Macintosh.  You will need to know these classes to read the </span>
<span class="c1">#  examples and to write your own experiments.  In this documentation, the common data classes are: Sample class, </span>
<span class="c1">#  Eye Event Classes, MessageEvent Class, and IOEvent Class.  You only need to read this section if you are </span>
<span class="c1">#  planning to use real-time link data for gaze-contingent displays or gaze-controlled interfaces, or to use data </span>
<span class="c1">#  playback. </span>
<span class="c1">#</span>
<span class="c1">#  The %EyeLink tracker measures eye position 250 or 500 times per second depending on the tracking mode you are </span>
<span class="c1">#  working with, and computes true gaze position on the display using the head camera data.  This data is stored </span>
<span class="c1">#  in the EDF file, and made available through the link in as little as 3 milliseconds after a physical eye movement.</span>
<span class="c1">#</span>
<span class="c1">#  Samples can be read from the link by \c getFloatData() or \c getNewestSample() method of the EyeLink/EyeLinkLisenter </span>
<span class="c1">#  class.  These functions can return instances of Sample class.  For example, </span>
<span class="c1">#</span>
<span class="c1">#	\code</span>
<span class="c1">#	newSample = EYELINK.getFloatData()</span>
<span class="c1">#	\endcode</span>
<span class="c1">#</span>
<span class="c1">#  The following methods can be used to retrieve properties of a Sample class instance.  For example, the time of </span>
<span class="c1">#  the sample can be retrieved as \c newSample.getTime().  Please note that all methods for the Sample class do not </span>
<span class="c1">#  take a parameter whereas the return values are noted.</span>
<span class="k">class</span> <span class="nc">Sample</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">,</span> <span class="n">hx</span><span class="p">,</span> <span class="n">hy</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">gx</span><span class="p">,</span> <span class="n">gy</span><span class="p">,</span> <span class="n">rx</span><span class="p">,</span> <span class="n">ry</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">htype</span><span class="p">,</span> <span class="n">hdata</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">time</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__type__</span> <span class="o">=</span> <span class="nb">type</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__flags__</span> <span class="o">=</span> <span class="n">flags</span>
		<span class="k">if</span><span class="p">(</span><span class="n">flags</span> <span class="o">&amp;</span> <span class="mh">0x8000</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">__leftData__</span> <span class="o">=</span> <span class="n">SampleData</span><span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">py</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">hx</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">hy</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">pa</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">gx</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">gy</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">__leftData__</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">if</span><span class="p">(</span><span class="n">flags</span> <span class="o">&amp;</span> <span class="mh">0x4000</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">__rightData__</span><span class="o">=</span> <span class="n">SampleData</span><span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">py</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">hx</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">hy</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">pa</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">gx</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">gy</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">__rightData__</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__ppd__</span> <span class="o">=</span>  <span class="p">(</span><span class="n">rx</span><span class="p">,</span> <span class="n">ry</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__status__</span> <span class="o">=</span> <span class="n">status</span>  
		<span class="bp">self</span><span class="o">.</span><span class="n">__input__</span> <span class="o">=</span> <span class="nb">input</span>  
		<span class="bp">self</span><span class="o">.</span><span class="n">__buttons__</span> <span class="o">=</span> <span class="n">buttons</span>   
		<span class="bp">self</span><span class="o">.</span><span class="n">__htype__</span> <span class="o">=</span> <span class="n">htype</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">__hdata__</span> <span class="o">=</span> <span class="n">hdata</span>

	<span class="c1">## Convenient method to clone a sample</span>
	<span class="c1">#</span>
	<span class="k">def</span> <span class="nf">initFromSample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sample</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>     <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__time__</span>      
		<span class="bp">self</span><span class="o">.</span><span class="n">__type__</span>     <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__type__</span>      
		<span class="bp">self</span><span class="o">.</span><span class="n">__flags__</span>    <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__flags__</span>    
		<span class="bp">self</span><span class="o">.</span><span class="n">__leftData__</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__leftData__</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">__rightData__</span><span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__rightData__</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">__ppd__</span>      <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__ppd__</span>      
		<span class="bp">self</span><span class="o">.</span><span class="n">__status__</span>   <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__status__</span>   
		<span class="bp">self</span><span class="o">.</span><span class="n">__input__</span>    <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__input__</span>    
		<span class="bp">self</span><span class="o">.</span><span class="n">__buttons__</span>  <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__buttons__</span>  
		<span class="bp">self</span><span class="o">.</span><span class="n">__htype__</span>    <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__htype__</span>    
		<span class="bp">self</span><span class="o">.</span><span class="n">__hdata__</span>    <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">__hdata__</span>   
	
	<span class="c1">## \c 1 if the sample contains the left eye data; \c 0 if not.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#   	Integer.</span>
	<span class="k">def</span> <span class="nf">isLeftSample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftData__</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">)</span>

	<span class="c1">## \c 1 if the sample contains the right eye data; \c 0 if not.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Integer.</span>
	<span class="k">def</span> <span class="nf">isRightSample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__rightData__</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">)</span>
	
	<span class="c1">## \c 1 if the sample contains data from both eyes; \c 0 if not.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Integer.</span>
	<span class="k">def</span> <span class="nf">isBinocular</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftData__</span> <span class="o">!=</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightData__</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">)</span>

	<span class="c1">## Timestamp when camera imaged eye (in milliseconds since %EyeLink tracker was activated).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#  	Long integer.</span>
	<span class="k">def</span> <span class="nf">getTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>
	
	<span class="c1">## Always \c SAMPLE_TYPE.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#  	Integer.</span>
	<span class="k">def</span> <span class="nf">getType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__type__</span>
		
	<span class="c1">## Angular resolution at current gaze position in screen pixels</span>
	<span class="c1">#  per visual degree. The first item of the tuple stores the x-coordinate</span>
	<span class="c1">#  resolution and the second item of the tuple</span>
	<span class="c1">#  stores the y-coordinate resolution.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getPPD</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ppd__</span>
		
	<span class="c1">## Error and status flags (only useful for %EyeLink II, report CR</span>
	<span class="c1">#  status and tracking error). See eye_data.h for useful bits.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Integer.</span>
	<span class="k">def</span> <span class="nf">getStatus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__status__</span>

	<span class="c1">## Data from input port(s).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#  	Integer.</span>
	<span class="k">def</span> <span class="nf">getInput</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__input__</span>
	
	<span class="c1">## Bits indicating what types of data are present, and for which eye(s). See eye_data.h for useful bits.</span>
	<span class="c1">#  @return</span>
	<span class="c1"># 	Integer.</span>
	<span class="k">def</span> <span class="nf">getFlags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__flags__</span>

	<span class="c1">## Button input data: high 8 bits indicate changes from last</span>
	<span class="c1">#  sample, low 8 bits indicate current state of buttons 8 (MSB) to 1 (LSB).</span>
	<span class="c1">#  @return</span>
	<span class="c1"># 	Integer.</span>
	<span class="k">def</span> <span class="nf">getButtons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buttons__</span>

	<span class="c1">## Returns the sample data information from the desired eye.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Instance of sample data class.</span>
	<span class="k">def</span> <span class="nf">getRightEye</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightData__</span>

	<span class="c1">## Returns the sample data information from the desired eye.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Instance of sample data class.</span>
	<span class="k">def</span> <span class="nf">getLeftEye</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__leftData__</span>

	<span class="c1">## Returns the href data</span>
	<span class="c1">#</span>
	<span class="k">def</span> <span class="nf">getHData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__hdata__</span>

	<span class="c1">## Returns Eye data status.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#  \arg 2 if both left and right eye data are present</span>
	<span class="c1">#  \arg 1 if right eye data present</span>
	<span class="c1">#  \arg 0 if left eye data present</span>
	<span class="k">def</span> <span class="nf">getEye</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftData__</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightData__</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
			<span class="k">return</span> <span class="mi">2</span>
		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__leftData__</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">:</span>
			<span class="k">return</span> <span class="mi">0</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">1</span>

	<span class="c1">## Target Distance</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.	</span>
	<span class="k">def</span> <span class="nf">getTargetDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__hdata__</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

	<span class="c1">## Target X</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.		</span>
	<span class="k">def</span> <span class="nf">getTargetX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__hdata__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

	<span class="c1">## Target Y</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.		</span>
	<span class="k">def</span> <span class="nf">getTargetY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__hdata__</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

	<span class="c1">## Target Flags</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.		</span>
	<span class="k">def</span> <span class="nf">getTargetFlags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__hdata__</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
			
	<span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">rv</span><span class="o">=</span> <span class="s2">&quot;Sample: </span><span class="si">%i</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%i</span><span class="s2"> </span><span class="si">%i</span><span class="s2"> </span><span class="si">%i</span><span class="s2"> </span><span class="si">%i</span><span class="s2"> &quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__time__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ppd__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__ppd__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">__status__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__input__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buttons__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__htype__</span><span class="p">)</span>
		<span class="n">rv</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__leftData__</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
		<span class="n">rv</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightData__</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">rv</span>

			 
<span class="k">def</span> <span class="nf">newSample</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">,</span> <span class="n">hx</span><span class="p">,</span> <span class="n">hy</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">gx</span><span class="p">,</span> <span class="n">gy</span><span class="p">,</span> <span class="n">rx</span><span class="p">,</span> <span class="n">ry</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">htype</span><span class="p">,</span> <span class="n">hdata</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">Sample</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="n">constants</span><span class="o">.</span><span class="n">SAMPLE_TYPE</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">,</span> <span class="n">hx</span><span class="p">,</span> <span class="n">hy</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">gx</span><span class="p">,</span> <span class="n">gy</span><span class="p">,</span> <span class="n">rx</span><span class="p">,</span> <span class="n">ry</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">htype</span><span class="p">,</span> <span class="n">hdata</span><span class="p">)</span>
		 
<span class="k">class</span> <span class="nc">rawSample</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">left_raw_pupil_x</span><span class="p">,</span>  <span class="n">left_raw_pupil_y</span><span class="p">,</span> <span class="n">left_raw_cr_x</span><span class="p">,</span> <span class="n">left_raw_cr_y</span><span class="p">,</span> <span class="n">left_pupil_area</span><span class="p">,</span> <span class="n">left_cr_area</span><span class="p">,</span> <span class="n">left_pupil_dimension_x</span><span class="p">,</span><span class="n">left_pupil_dimension_y</span><span class="p">,</span> <span class="n">left_cr_dimension_x</span><span class="p">,</span> <span class="n">left_cr_dimension_y</span><span class="p">,</span> <span class="n">left_win_pos_x</span><span class="p">,</span> <span class="n">left_win_pos_y</span><span class="p">,</span> <span class="n">left_pupil_cr_x</span><span class="p">,</span> <span class="n">left_pupil_cr_y</span><span class="p">,</span> <span class="n">left_cr_area2</span><span class="p">,</span> <span class="n">left_raw_cr2_x</span><span class="p">,</span> <span class="n">left_raw_cr2_y</span><span class="p">,</span> <span class="n">right_raw_pupil_x</span><span class="p">,</span>  <span class="n">right_raw_pupil_y</span><span class="p">,</span> <span class="n">right_raw_cr_x</span><span class="p">,</span> <span class="n">right_raw_cr_y</span><span class="p">,</span> <span class="n">right_pupil_area</span><span class="p">,</span> <span class="n">right_cr_area</span><span class="p">,</span> <span class="n">right_pupil_dimension_x</span><span class="p">,</span> <span class="n">right_pupil_dimension_y</span><span class="p">,</span> <span class="n">right_cr_dimension_x</span><span class="p">,</span> <span class="n">right_cr_dimension_y</span><span class="p">,</span> <span class="n">right_win_pos_x</span><span class="p">,</span> <span class="n">right_win_pos_y</span><span class="p">,</span> <span class="n">right_pupil_cr_x</span><span class="p">,</span> <span class="n">right_pupil_cr_y</span><span class="p">,</span> <span class="n">right_cr_area2</span><span class="p">,</span> <span class="n">right_raw_cr2_x</span><span class="p">,</span> <span class="n">right_raw_cr2_y</span>  <span class="p">):</span>
		<span class="c1">#print &quot;pupil dimension&quot;, left_pupil_dimension_x,left_pupil_dimension_y</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>				   <span class="o">=</span> <span class="n">time</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_rawpupil__</span> 		   <span class="o">=</span> <span class="p">(</span><span class="n">left_raw_pupil_x</span><span class="p">,</span>  <span class="n">left_raw_pupil_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_rawcr__</span>            <span class="o">=</span> <span class="p">(</span><span class="n">left_raw_cr_x</span><span class="p">,</span> <span class="n">left_raw_cr_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_pupilarea__</span>        <span class="o">=</span> <span class="n">left_pupil_area</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_crarea__</span>           <span class="o">=</span> <span class="n">left_cr_area</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_pupildimension__</span>   <span class="o">=</span> <span class="p">(</span><span class="n">left_pupil_dimension_x</span><span class="p">,</span><span class="n">left_pupil_dimension_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_crdimension__</span>      <span class="o">=</span> <span class="p">(</span><span class="n">left_cr_dimension_x</span><span class="p">,</span> <span class="n">left_cr_dimension_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_winpos__</span>           <span class="o">=</span> <span class="p">(</span><span class="n">left_win_pos_x</span><span class="p">,</span> <span class="n">left_win_pos_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_pupilcr__</span>          <span class="o">=</span> <span class="p">(</span><span class="n">left_pupil_cr_x</span><span class="p">,</span> <span class="n">left_pupil_cr_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_crarea2__</span>          <span class="o">=</span> <span class="p">(</span><span class="n">left_cr_area2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__left_rawcr2__</span>           <span class="o">=</span> <span class="p">(</span><span class="n">left_raw_cr2_x</span><span class="p">,</span> <span class="n">left_raw_cr2_y</span><span class="p">)</span>		
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_rawpupil__</span> 	   <span class="o">=</span> <span class="p">(</span><span class="n">right_raw_pupil_x</span><span class="p">,</span>  <span class="n">right_raw_pupil_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_rawcr__</span>           <span class="o">=</span> <span class="p">(</span><span class="n">right_raw_cr_x</span><span class="p">,</span> <span class="n">right_raw_cr_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_pupilarea__</span>       <span class="o">=</span> <span class="n">right_pupil_area</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_crarea__</span>          <span class="o">=</span> <span class="n">right_cr_area</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_pupildimension__</span>  <span class="o">=</span> <span class="p">(</span><span class="n">right_pupil_dimension_x</span><span class="p">,</span><span class="n">right_pupil_dimension_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_crdimension__</span>     <span class="o">=</span> <span class="p">(</span><span class="n">right_cr_dimension_x</span><span class="p">,</span> <span class="n">right_cr_dimension_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_winpos__</span>          <span class="o">=</span> <span class="p">(</span><span class="n">right_win_pos_x</span><span class="p">,</span> <span class="n">right_win_pos_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_pupilcr__</span>         <span class="o">=</span> <span class="p">(</span><span class="n">right_pupil_cr_x</span><span class="p">,</span> <span class="n">right_pupil_cr_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_crarea2__</span>         <span class="o">=</span> <span class="p">(</span><span class="n">right_cr_area2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__right_rawcr2__</span>          <span class="o">=</span> <span class="p">(</span><span class="n">right_raw_cr2_x</span><span class="p">,</span> <span class="n">right_raw_cr2_y</span><span class="p">)</span>	

	<span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">rv</span><span class="o">=</span> <span class="s2">&quot;rawSample: </span><span class="si">%i</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%d</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2">  &quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__time__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_rawpupil__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_rawpupil__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_rawcr__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_rawcr__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_pupilarea__</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_crarea__</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_pupildimension__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_pupildimension__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_crdimension__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_crdimension__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_winpos__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_winpos__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_pupilcr__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_pupilcr__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_crarea2__</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_rawcr2__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__left_rawcr2__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_rawpupil__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_rawpupil__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_rawcr__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_rawcr__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_pupilarea__</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_crarea__</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_pupildimension__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_pupildimension__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_crdimension__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_crdimension__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_winpos__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_winpos__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_pupilcr__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_pupilcr__</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_crarea2__</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_rawcr2__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">__right_rawcr2__</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">rv</span>
	
	<span class="k">def</span> <span class="nf">getRawSampleTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>
	
	<span class="k">def</span> <span class="nf">getLeftrRawPupil</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_rawpupil__</span>
		
	<span class="k">def</span> <span class="nf">getLeftRawCr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_rawcr__</span>
		
	<span class="k">def</span> <span class="nf">getLeftPupilArea</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_pupilarea__</span>
		
	<span class="k">def</span> <span class="nf">getLeftCrArea</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_crarea__</span>
		
	<span class="k">def</span> <span class="nf">getLeftPupilDimension</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_pupildimension__</span>
	
	<span class="k">def</span> <span class="nf">getLeftCrDimension</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_crdimension__</span>
		
	<span class="k">def</span> <span class="nf">getLeftWindowPosition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_winpos__</span>
	
	<span class="k">def</span> <span class="nf">getLeftPupilCr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_pupilcr__</span>
		
	<span class="k">def</span> <span class="nf">getLeftCrArea2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_crarea2__</span>

	<span class="k">def</span> <span class="nf">getLeftRawCr2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__left_rawcr2__</span>
		
	<span class="k">def</span> <span class="nf">getRightrRawPupil</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_rawpupil__</span>
		
	<span class="k">def</span> <span class="nf">getRightRawCr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_rawcr__</span>
		
	<span class="k">def</span> <span class="nf">getRightPupilArea</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_pupilarea__</span>
		
	<span class="k">def</span> <span class="nf">getRightCrArea</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_crarea__</span>
		
	<span class="k">def</span> <span class="nf">getRightPupilDimension</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_pupildimension__</span>
	
	<span class="k">def</span> <span class="nf">getRightCrDimension</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_crdimension__</span>
		
	<span class="k">def</span> <span class="nf">getRightWindowPosition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_winpos__</span>
	
	<span class="k">def</span> <span class="nf">getRightPupilCr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_pupilcr__</span>
		
	<span class="k">def</span> <span class="nf">getRightCrArea2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_crarea2__</span> 

	<span class="k">def</span> <span class="nf">getRightRawCr2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__right_rawcr2__</span>

		

<span class="k">def</span> <span class="nf">newRawSample</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">left_raw_pupil_x</span><span class="p">,</span>  <span class="n">left_raw_pupil_y</span><span class="p">,</span> <span class="n">left_raw_cr_x</span><span class="p">,</span> <span class="n">left_raw_cr_y</span><span class="p">,</span> <span class="n">left_pupil_area</span><span class="p">,</span> <span class="n">left_cr_area</span><span class="p">,</span> <span class="n">left_pupil_dimension_x</span><span class="p">,</span><span class="n">left_pupil_dimension_y</span><span class="p">,</span> <span class="n">left_cr_dimension_x</span><span class="p">,</span> <span class="n">left_cr_dimension_y</span><span class="p">,</span> <span class="n">left_win_pos_x</span><span class="p">,</span> <span class="n">left_win_pos_y</span><span class="p">,</span> <span class="n">left_pupil_cr_x</span><span class="p">,</span> <span class="n">left_pupil_cr_y</span><span class="p">,</span> <span class="n">left_cr_area2</span><span class="p">,</span> <span class="n">left_raw_cr2_x</span><span class="p">,</span> <span class="n">left_raw_cr2_y</span><span class="p">,</span> <span class="n">right_raw_pupil_x</span><span class="p">,</span>  <span class="n">right_raw_pupil_y</span><span class="p">,</span> <span class="n">right_raw_cr_x</span><span class="p">,</span> <span class="n">right_raw_cr_y</span><span class="p">,</span> <span class="n">right_pupil_area</span><span class="p">,</span> <span class="n">right_cr_area</span><span class="p">,</span> <span class="n">right_pupil_dimension_x</span><span class="p">,</span> <span class="n">right_pupil_dimension_y</span><span class="p">,</span> <span class="n">right_cr_dimension_x</span><span class="p">,</span> <span class="n">right_cr_dimension_y</span><span class="p">,</span> <span class="n">right_win_pos_x</span><span class="p">,</span> <span class="n">right_win_pos_y</span><span class="p">,</span> <span class="n">right_pupil_cr_x</span><span class="p">,</span> <span class="n">right_pupil_cr_y</span><span class="p">,</span> <span class="n">right_cr_area2</span><span class="p">,</span> <span class="n">right_raw_cr2_x</span><span class="p">,</span> <span class="n">right_raw_cr2_y</span><span class="p">):</span>
	<span class="c1">#print &quot;pupil dimension in def&quot;, left_pupil_dimension_x,left_pupil_dimension_y</span>
	<span class="k">return</span> <span class="n">rawSample</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">left_raw_pupil_x</span><span class="p">,</span>  <span class="n">left_raw_pupil_y</span><span class="p">,</span> <span class="n">left_raw_cr_x</span><span class="p">,</span> <span class="n">left_raw_cr_y</span><span class="p">,</span> <span class="n">left_pupil_area</span><span class="p">,</span> <span class="n">left_cr_area</span><span class="p">,</span> <span class="n">left_pupil_dimension_x</span><span class="p">,</span><span class="n">left_pupil_dimension_y</span><span class="p">,</span> <span class="n">left_cr_dimension_x</span><span class="p">,</span> <span class="n">left_cr_dimension_y</span><span class="p">,</span> <span class="n">left_win_pos_x</span><span class="p">,</span> <span class="n">left_win_pos_y</span><span class="p">,</span> <span class="n">left_pupil_cr_x</span><span class="p">,</span> <span class="n">left_pupil_cr_y</span><span class="p">,</span> <span class="n">left_cr_area2</span><span class="p">,</span> <span class="n">left_raw_cr2_x</span><span class="p">,</span> <span class="n">left_raw_cr2_y</span><span class="p">,</span> <span class="n">right_raw_pupil_x</span><span class="p">,</span>  <span class="n">right_raw_pupil_y</span><span class="p">,</span> <span class="n">right_raw_cr_x</span><span class="p">,</span> <span class="n">right_raw_cr_y</span><span class="p">,</span> <span class="n">right_pupil_area</span><span class="p">,</span> <span class="n">right_cr_area</span><span class="p">,</span> <span class="n">right_pupil_dimension_x</span><span class="p">,</span> <span class="n">right_pupil_dimension_y</span><span class="p">,</span> <span class="n">right_cr_dimension_x</span><span class="p">,</span> <span class="n">right_cr_dimension_y</span><span class="p">,</span> <span class="n">right_win_pos_x</span><span class="p">,</span> <span class="n">right_win_pos_y</span><span class="p">,</span> <span class="n">right_pupil_cr_x</span><span class="p">,</span> <span class="n">right_pupil_cr_y</span><span class="p">,</span> <span class="n">right_cr_area2</span><span class="p">,</span> <span class="n">right_raw_cr2_x</span><span class="p">,</span> <span class="n">right_raw_cr2_y</span><span class="p">)</span>

	
	
<span class="c1">## The %EyeLink tracker simplifies data analysis by detecting important changes in the sample data and </span>
<span class="c1">#  placing corresponding events into the data stream.  These include eye-data events (blinks, saccades, </span>
<span class="c1">#  and fixations), button events, input-port events, and messages.  Several classes have been created to </span>
<span class="c1">#  holds eye event data (start/end of fixation, start/end of saccade, start/end of blink, fixation update) </span>
<span class="c1">#  information.  Start events contain only the start time, and optionally the start eye or gaze position.  </span>
<span class="c1">#  End events contain the start and end time, plus summary data on saccades and fixations.</span>
<span class="c1">#</span>
<span class="c1">#  It is important to remember that data sent over the link does not arrive in strict time sequence.  </span>
<span class="c1">#  Typically, eye events (such as \c STARTSACC and \c ENDFIX) arrive up to 32 milliseconds after the corresponding </span>
<span class="c1">#  samples, and messages and buttons may arrive before a sample with the same time code.  This differs from </span>
<span class="c1">#  the order seen in an ASC file, where the events and samples have been sorted into a consistent order by </span>
<span class="c1">#  their timestamps.</span>
<span class="c1">#</span>
<span class="c1">#  The \c LOST_DATA_EVENT is a new event, introduced for %EyeLink tracker version 2.1 and later, and produced </span>
<span class="c1">#  within the DLL to mark the location of lost data.   It is possible that data may be lost, either during </span>
<span class="c1">#  recording with real-time data enabled, or during playback.  This might happen because of a lost link packet </span>
<span class="c1">#  or because data was not read fast enough (data is stored in a large queue that can hold 2 to 10 seconds </span>
<span class="c1">#  of data, and once it is full the oldest data is discarded to make room for new data).  This event has no </span>
<span class="c1">#  data or time associated with it.</span>
<span class="c1">#</span>
<span class="c1">#  Event data returned by the \c getFloatData() method the EyeLink class.</span>
<span class="c1">#</span>
<span class="c1">#  For example,</span>
<span class="c1">#</span>
<span class="c1">#	\code</span>
<span class="c1">#	newEvent = EYELINK.getFloatData()</span>
<span class="c1">#	\endcode</span>
<span class="c1">#</span>
<span class="c1">#  Right now, the developer kit implements the following eye events:</span>
<span class="c1">#</span>
<span class="c1">#  &lt;table&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td class=&quot;indexkey&quot;&gt;Constant Name&lt;/td&gt;&lt;td class=&quot;indexkey&quot; align=&quot;center&quot;&gt;Value&lt;/td&gt;&lt;td class=&quot;indexkey&quot;&gt;Description&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;STARTBLINK&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;3&lt;/td&gt;&lt;td&gt;Pupil disappeared (time only)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;ENDBLINK&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;4&lt;/td&gt;&lt;td&gt;Pupil reappeared (duration data)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;STARTSACC&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;5&lt;/td&gt;&lt;td&gt;Start of saccade (with time only)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;ENDSACC&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;6&lt;/td&gt;&lt;td&gt;End of saccade (with summary data)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;STARTFIX&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;7&lt;/td&gt;&lt;td&gt;Start of fixation (with time only)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;ENDFIX&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;8&lt;/td&gt;&lt;td&gt;End of fixation (with summary data)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;FIXUPDATE&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;9&lt;/td&gt;&lt;td&gt;Update within fixation (summary data for interval)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;MESSAGEEVENT&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;24&lt;/td&gt;&lt;td&gt;User-definable text (IMESSAGE structure)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;BUTTONEVENT&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;25&lt;/td&gt;&lt;td&gt;Button state change (IOEVENT structure)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;INPUTEVENT&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;28&lt;/td&gt;&lt;td&gt;Change of input port (IOEVENT structure)&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;SAMPLE_TYPE&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;200&lt;/td&gt;&lt;td&gt;Event flags gap in data stream&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;/table&gt;</span>
<span class="c1">#</span>
<span class="c1">#  Please note that due to the tracker configuration, some of the property information returned may be a missing value </span>
<span class="c1">#  \c MISSING_DATA (or \c 0, depending on the field).  So make sure you check for the validity of the data before </span>
<span class="c1">#  trying to use them.   To do the tracker configuration, the user can use the \c setLinkEventFilter() and </span>
<span class="c1">#  \c setLinkEventData() methods of the EyeLink class to send commands at the start of the experiment or modify </span>
<span class="c1">#  the DATA.INI file on the tracker PC.</span>
<span class="c1">#</span>
<span class="c1">#  When both eyes are being tracked, left and right eye events are produced.  The eye from which data </span>
<span class="c1">#  was produced can be retrieved by the \c getEye() method. </span>
<div class="viewcode-block" id="EyeEvent"><a class="viewcode-back" href="../../../../../pylink.html#mdl.eyetracking.win.pylink.tracker.EyeEvent">[docs]</a><span class="k">class</span> <span class="nc">EyeEvent</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">time</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__type__</span> <span class="o">=</span> <span class="nb">type</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__eye__</span> <span class="o">=</span> <span class="n">eye</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__read__</span> <span class="o">=</span> <span class="n">read</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__sttime__</span> <span class="o">=</span> <span class="n">sttime</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__status__</span> <span class="o">=</span> <span class="mi">0</span>

	<span class="c1">## Timestamp of the sample causing event (in milliseconds since %EyeLink tracker was activated).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Long integer.</span>
	<span class="k">def</span> <span class="nf">getTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>

	<span class="c1">## The event code.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Integer.</span>
	<span class="k">def</span> <span class="nf">getType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__type__</span>

	<span class="c1">## Which eye produced the event: \c 0 (\c LEFT_EYE) or \c 1 (\c RIGHT_EYE).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Integer.</span>
	<span class="k">def</span> <span class="nf">getEye</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__eye__</span>

	<span class="c1">## Bits indicating which data fields contain valid data (see</span>
	<span class="c1">#  eye_data.h file for details of the bits information).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Integer.</span>
	<span class="k">def</span> <span class="nf">getRead</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__read__</span>

	<span class="c1">## Timestamp of the first sample of the event.</span>
	<span class="c1">#  @return</span>
	<span class="c1"># 	Long integer.</span>
	<span class="k">def</span> <span class="nf">getStartTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sttime__</span>

	<span class="c1">## Errors and warnings of the event.</span>
	<span class="c1">#	</span>
	<span class="k">def</span> <span class="nf">getStatus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__status__</span></div>
		
		
<span class="c1">## Class to represent Start Blink event.</span>
<span class="c1">#  There are no direct properties for this interface.  All properties are inherited from EyeEvent.</span>
<span class="k">class</span> <span class="nc">StartBlinkEvent</span><span class="p">(</span><span class="n">EyeEvent</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">):</span>
		<span class="n">EyeEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">newStartBlinkEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">StartBlinkEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">)</span>
		

<span class="c1">## This interface is never used as is. FixUpdateEvent, StartFixationEvent and </span>
<span class="c1">#  StartSaccadeEvent types inherit this.</span>
<span class="c1">#  This also inherits all properties from EyeEvent.</span>
<span class="k">class</span> <span class="nc">StartNonBlinkEvent</span><span class="p">(</span><span class="n">EyeEvent</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">):</span>
		<span class="n">EyeEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__startGaze__</span> <span class="o">=</span> <span class="p">(</span><span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__startHref__</span> <span class="o">=</span> <span class="p">(</span><span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__startVelocity__</span> <span class="o">=</span> <span class="n">svel</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__startUpd__</span>  <span class="o">=</span> <span class="p">(</span><span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">)</span>
		
	<span class="c1">## Gaze position at the start of the event (in pixel coordinates</span>
	<span class="c1">#  set by the \c screen_pixel_coords command). The first and</span>
	<span class="c1">#  second items of the tuple store the x- and y- gaze position</span>
	<span class="c1">#  respectively.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getStartGaze</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__startGaze__</span>
	
	<span class="c1">## HEADREF position at the start of the event. The first and</span>
	<span class="c1">#  second items of the tuple store the x- and y- HREF data</span>
	<span class="c1">#  respectively.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getStartHREF</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__startHref__</span>
		
	<span class="c1">## Gaze velocity at the start of the event (in visual degrees per second).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getStartVelocity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__startVelocity__</span>
		
	<span class="c1">## Angular resolution at the start of the event (in screen pixels</span>
	<span class="c1">#  per visual degree, PPD). The first item of the tuple stores</span>
	<span class="c1">#  the x-coordinate PPD resolution and the second item of the</span>
	<span class="c1">#  tuple stores the y-coordinate PPD resolution.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getStartPPD</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__startUpd__</span>


<span class="c1">## Class to represent Start Saccade event.</span>
<span class="c1">#  There are no direct properties for this interface.  All properties are inherited from StartNonBlinkEvent.	</span>
<span class="k">class</span> <span class="nc">StartSaccadeEvent</span><span class="p">(</span><span class="n">StartNonBlinkEvent</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">):</span>
		<span class="n">StartNonBlinkEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">newStartSaccadeEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">StartSaccadeEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">)</span>
	

<span class="c1">## Class to represent Start Fixation event.</span>
<span class="c1">#  This also inherits all properties from StartNonBlinkEvent.</span>
<span class="k">class</span> <span class="nc">StartFixationEvent</span><span class="p">(</span><span class="n">StartNonBlinkEvent</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">):</span>
		<span class="n">StartNonBlinkEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__sta__</span>  <span class="o">=</span> <span class="n">sta</span>
		
	<span class="c1">## Pupil size (in arbitrary units, area or diameter as selected) at the start of a fixation interval.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getStartPupilSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sta__</span>


<span class="k">def</span> <span class="nf">newStartFixationEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">StartFixationEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">)</span>
	

<span class="c1">## Class to represent End Blink event. This also contains the Start Blink data.</span>
<span class="c1">#  This also inherits all properties from EyeEvent.</span>
<span class="k">class</span> <span class="nc">EndBlinkEvent</span><span class="p">(</span><span class="n">EyeEvent</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">entime</span><span class="p">):</span>
		<span class="n">EyeEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__entime__</span> <span class="o">=</span> <span class="n">entime</span>

	<span class="c1">## Timestamp of the last sample of the blink.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#  	Long integer.</span>
	<span class="k">def</span> <span class="nf">getEndTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__entime__</span>
		
		
<span class="k">def</span> <span class="nf">newEndBlinkEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">entime</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">EndBlinkEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">entime</span><span class="p">)</span>
	

<span class="c1">## This interface is never used as is. EndFixationEvent, EndSaccadeEvent and FixUpdateEvent</span>
<span class="c1">#  types inherit this.</span>
<span class="c1">#</span>
<span class="c1">#  Please note that the \c getStartTime() and \c getEndTime() methods of the event class are the </span>
<span class="c1">#  timestamps of the first and last samples in the event.  To compute duration, subtract </span>
<span class="c1">#  these two values and add 4 msec (even in 500 Hz tracking modes, the internal parser of </span>
<span class="c1">#  %EyeLink II quantizes event times to 4 milliseconds). </span>
<span class="c1">#</span>
<span class="c1">#  Peak velocity returned by \c getPeakVelocity() for fixations is usually corrupted by terminal </span>
<span class="c1">#  segments of the preceding and following saccades. </span>
<span class="c1">#</span>
<span class="c1">#  The \c getStartPPD() and \c getEndPPD() methods contain the angular resolution at the start and </span>
<span class="c1">#  end of the saccade or fixation.  The average of the start and end angular resolution can </span>
<span class="c1">#  be used to compute the size of saccades in degrees.  This Python code would compute the </span>
<span class="c1">#  true magnitude of a saccade from an \c ENDSACC event in the following way: </span>
<span class="c1">#</span>
<span class="c1">#	\code</span>
<span class="c1">#	newEvent = EYELINK.getFloatData()</span>
<span class="c1">#</span>
<span class="c1">#	if isinstance(newEvent, EndFixationEvent):</span>
<span class="c1">#		Start_Gaze = newEvent.getStartGaze()</span>
<span class="c1">#		Start_PPD = newEvent.getStartPPD()</span>
<span class="c1">#		End_Gaze = newEvent.getEndGaze()</span>
<span class="c1">#		End_PPD = newEvent. getEndPPD()</span>
<span class="c1">#</span>
<span class="c1">#	dx = (End_Gaze[0] - Start_Gaze[0]) / ((End_PPD[0] + Start_PPD[0])/2.0);</span>
<span class="c1">#	dy = (End_Gaze[1] - Start_Gaze[1]) / ((End_PPD[1] + Start_PPD[1])/2.0); </span>
<span class="c1">#	dist = math.sqrt(dx*dx + dy*dy);</span>
<span class="c1">#	\endcode</span>
<span class="c1">#</span>
<span class="c1">#  Please note that the average velocity for saccades may be larger than the saccade magnitude </span>
<span class="c1">#  divided by its duration because of overshoots and returns.   </span>
<span class="k">class</span> <span class="nc">EndNonBlinkEvent</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__endTime__</span> <span class="o">=</span> <span class="n">entime</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__endGaze__</span> <span class="o">=</span> <span class="p">(</span><span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__endHref__</span> <span class="o">=</span> <span class="p">(</span><span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__endVelocity__</span> <span class="o">=</span> <span class="n">evel</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__avgVelocity__</span> <span class="o">=</span> <span class="n">avel</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__peakVelocity__</span> <span class="o">=</span> <span class="n">pvel</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__endUpd__</span>  <span class="o">=</span> <span class="p">(</span><span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">)</span>

	<span class="c1">## Timestamp of the last sample of the event.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Long integer.</span>
	<span class="k">def</span> <span class="nf">getEndTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__endTime__</span>

	<span class="c1">## Gaze position at the end of the event (in pixel coordinates </span>
	<span class="c1">#  set by the \c screen_pixel_coords command).  The first and </span>
	<span class="c1">#  second items of the returned tuple store the x- and y- gaze position </span>
	<span class="c1">#  respectively.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getEndGaze</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__endGaze__</span>

	<span class="c1">## HEADREF position at the end of the event.  The first and </span>
	<span class="c1">#  second items of the returned tuple store the x- and y- coordinate HREF data </span>
	<span class="c1">#  respectively.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getEndHREF</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__endHref__</span>

	<span class="c1">## Gaze velocity at the end of the event (in visual degrees per second).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getEndVelocity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__endVelocity__</span>

	<span class="c1">## Average gaze velocity during event (in visual degrees per second).		</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getAverageVelocity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__avgVelocity__</span>

	<span class="c1">## Peak gaze velocity during event (in visual degrees per second).	</span>
	<span class="c1">#  @return</span>
	<span class="c1"># 	Float.</span>
	<span class="k">def</span> <span class="nf">getPeakVelocity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peakVelocity__</span>

	<span class="c1">## Angular resolution at the end of the event (in screen pixels per visual degree).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getEndPPD</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__endUpd__</span>


<span class="k">def</span> <span class="nf">getAngle</span><span class="p">(</span><span class="n">xavgres</span><span class="p">,</span><span class="n">yavgres</span><span class="p">,</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">x1</span> <span class="o">==</span> <span class="n">constants</span><span class="o">.</span><span class="n">MISSING_DATA</span> <span class="ow">or</span> <span class="n">y1</span> <span class="o">==</span> <span class="n">constants</span><span class="o">.</span><span class="n">MISSING_DATA</span> <span class="ow">or</span> <span class="n">x2</span> <span class="o">==</span> <span class="n">constants</span><span class="o">.</span><span class="n">MISSING_DATA</span> <span class="ow">or</span> <span class="n">y2</span> <span class="o">==</span> <span class="n">constants</span><span class="o">.</span><span class="n">MISSING_DATA</span>\
		<span class="ow">or</span><span class="p">(</span><span class="n">x1</span><span class="o">==</span><span class="n">x2</span> <span class="ow">and</span> <span class="n">y1</span><span class="o">==</span><span class="n">y2</span><span class="p">):</span>
			<span class="k">return</span> <span class="n">constants</span><span class="o">.</span><span class="n">MISSING_DATA</span>
		<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">x1</span> <span class="o">-</span><span class="n">x2</span><span class="p">)</span><span class="o">/</span><span class="n">xavgres</span>
		<span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">y1</span> <span class="o">-</span><span class="n">y2</span><span class="p">)</span><span class="o">/</span><span class="n">yavgres</span>
		<span class="n">rv</span><span class="o">=</span> <span class="mf">57.296</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="mi">0</span><span class="o">-</span><span class="n">x</span><span class="p">);</span>
		
		
		<span class="c1">#make sure the angle is between -180 to +180 So the calculation are simpler to do        </span>
		<span class="n">rv</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">fmod</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span><span class="mi">360</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">rv</span> <span class="o">&gt;</span><span class="mi">180</span><span class="p">:</span>
			<span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="o">-</span><span class="mi">360</span>
		<span class="k">elif</span> <span class="n">rv</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">180</span><span class="p">:</span>
			<span class="n">rv</span> <span class="o">=</span> <span class="mi">360</span><span class="o">+</span><span class="n">rv</span>
		
		
		
		<span class="k">return</span> <span class="n">rv</span>


<span class="c1">## Class to represent End Saccade event. This also contains the Start Saccade data.</span>
<span class="c1">#  This also inherits all properties from StartSaccadeEvent and EndNonBlinkEvent.</span>
<span class="k">class</span> <span class="nc">EndSaccadeEvent</span><span class="p">(</span><span class="n">StartSaccadeEvent</span><span class="p">,</span> <span class="n">EndNonBlinkEvent</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">):</span>
		<span class="n">StartSaccadeEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">)</span>
		<span class="n">EndNonBlinkEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">)</span>
	
	<span class="c1">## Returns the amplitude between the start and end of the event.</span>
	<span class="c1">#  @return Amplitude between the start and end of the event.</span>
	<span class="k">def</span> <span class="nf">getAmplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">ppdx</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getStartPPD</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndPPD</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
		<span class="n">ppdy</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getStartPPD</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndPPD</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
		<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndGaze</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">getStartGaze</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="n">ppdx</span>
		<span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndGaze</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">getStartGaze</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="n">ppdy</span>
		<span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
	
	<span class="c1">## Returns the angle between the start and end of the event.</span>
	<span class="c1">#  @return Angle between the start and end of the event.</span>
	<span class="k">def</span> <span class="nf">getAngle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">ppdx</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getStartPPD</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndPPD</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
		<span class="n">ppdy</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getStartPPD</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndPPD</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
<span class="c1">#		x = (self.getStartGaze()[0] -self.getEndGaze()[0])/ppdx</span>
<span class="c1">#		y = (self.getStartGaze()[1] -self.getEndGaze()[1])/ppdy</span>
<span class="c1">#	        rv= 57.296*math.atan2(y,0-x);</span>
		<span class="k">return</span> <span class="n">getAngle</span><span class="p">(</span><span class="n">ppdx</span><span class="p">,</span><span class="n">ppdy</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">getStartGaze</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">getStartGaze</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndGaze</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndGaze</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>
<span class="c1">#	        return rv</span>
    
	
<span class="k">def</span> <span class="nf">newEndSaccadeEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">EndSaccadeEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">)</span>


<span class="c1">## Class to represent End Fixation event. This also contains the Start Fixation data.</span>
<span class="c1">#  This also inherits all properties from StartFixationEvent and EndNonBlinkEvent.</span>
<span class="k">class</span> <span class="nc">EndFixationEvent</span><span class="p">(</span><span class="n">StartFixationEvent</span><span class="p">,</span> <span class="n">EndNonBlinkEvent</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">gavx</span><span class="p">,</span> <span class="n">gavy</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">havx</span><span class="p">,</span> <span class="n">havy</span><span class="p">,</span> <span class="n">ena</span><span class="p">,</span> <span class="n">ava</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">):</span>
		<span class="n">StartFixationEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">)</span>
		<span class="n">EndNonBlinkEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__avgGaze__</span><span class="o">=</span><span class="p">(</span><span class="n">gavx</span><span class="p">,</span> <span class="n">gavy</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__avgHref__</span><span class="o">=</span><span class="p">(</span><span class="n">havx</span><span class="p">,</span> <span class="n">havy</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__ena__</span><span class="o">=</span><span class="n">ena</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__ava__</span><span class="o">=</span><span class="n">ava</span>

	<span class="c1">## The average gaze position during the fixation period (in</span>
	<span class="c1">#  pixel coordinates set by the \c screen_pixel_coords command).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getAverageGaze</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__avgGaze__</span>

	<span class="c1">## Average HEADREF position during the fixation period.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getAverageHREF</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__avgHref__</span>

	<span class="c1">## Average pupil size (in arbitrary units, area or diameter as selected) during a fixation.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getAveragePupilSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ava__</span>
	
	<span class="c1">## Pupil size (in arbitrary units, area or diameter as selected) at the end of a fixation interval.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getEndPupilSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ena__</span>


<span class="k">def</span> <span class="nf">newEndFixationEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">gavx</span><span class="p">,</span> <span class="n">gavy</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">havx</span><span class="p">,</span> <span class="n">havy</span><span class="p">,</span> <span class="n">ena</span><span class="p">,</span> <span class="n">ava</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">EndFixationEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">gavx</span><span class="p">,</span> <span class="n">gavy</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">havx</span><span class="p">,</span> <span class="n">havy</span><span class="p">,</span> <span class="n">ena</span><span class="p">,</span> <span class="n">ava</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">)</span>


<span class="c1">## Class to represent the Fix Update event.</span>
<span class="c1">#  This also inherits all properties from StartNonBlinkEvent and EndNonBlinkEvent.</span>
<span class="k">class</span> <span class="nc">FixUpdateEvent</span><span class="p">(</span><span class="n">StartNonBlinkEvent</span><span class="p">,</span> <span class="n">EndNonBlinkEvent</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">gavx</span><span class="p">,</span> <span class="n">gavy</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">havx</span><span class="p">,</span> <span class="n">havy</span><span class="p">,</span> <span class="n">ena</span><span class="p">,</span> <span class="n">ava</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">):</span>
		<span class="n">StartNonBlinkEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">)</span>
		<span class="n">EndNonBlinkEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__avgGaze__</span><span class="o">=</span><span class="p">(</span><span class="n">gavx</span><span class="p">,</span> <span class="n">gavy</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__avgHref__</span><span class="o">=</span><span class="p">(</span><span class="n">havx</span><span class="p">,</span> <span class="n">havy</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__ena__</span><span class="o">=</span><span class="n">ena</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__ava__</span><span class="o">=</span><span class="n">ava</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__sta__</span>  <span class="o">=</span> <span class="n">sta</span>
	
	<span class="c1">## Pupil size (in arbitrary units, area or diameter as selected) at the start of a fixation interval.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getStartPupilSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sta__</span>
	
	<span class="c1">## The average gaze position during the fixation period (in</span>
	<span class="c1">#  pixel coordinates set by the \c screen_pixel_coords command).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getAverageGaze</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__avgGaze__</span>
				
	<span class="c1">## Average HEADREF position during the fixation period.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Two-item tuple in the format of (float, float).</span>
	<span class="k">def</span> <span class="nf">getAverageHREF</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__avgHref__</span>

	<span class="c1">## Average pupil size (in arbitrary units, area or diameter as selected) during a fixation.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getAveragePupilSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ava__</span>
	
	<span class="c1">## Pupil size (in arbitrary units, area or diameter as selected) at the end of a fixation interval.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Float.</span>
	<span class="k">def</span> <span class="nf">getEndPupilSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ena__</span>

	<span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">rv</span><span class="o">=</span> <span class="s2">&quot;FixationUpdate: </span><span class="si">%i</span><span class="s2"> </span><span class="si">%i</span><span class="s2"> </span><span class="si">%f</span><span class="s2"> </span><span class="si">%f</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__time__</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndTime</span><span class="p">()</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">getStartTime</span><span class="p">(),</span><span class="bp">self</span><span class="o">.</span><span class="n">getAverageGaze</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">getAverageGaze</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">rv</span>

		
<span class="k">def</span> <span class="nf">newFixUpdateEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">gavx</span><span class="p">,</span> <span class="n">gavy</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">havx</span><span class="p">,</span> <span class="n">havy</span><span class="p">,</span> <span class="n">ena</span><span class="p">,</span> <span class="n">ava</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">FixUpdateEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">eye</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">sttime</span><span class="p">,</span> <span class="n">gstx</span><span class="p">,</span> <span class="n">gsty</span><span class="p">,</span> <span class="n">hstx</span><span class="p">,</span> <span class="n">hsty</span><span class="p">,</span> <span class="n">sta</span><span class="p">,</span> <span class="n">svel</span><span class="p">,</span> <span class="n">supd_x</span><span class="p">,</span> <span class="n">supd_y</span><span class="p">,</span> <span class="n">entime</span><span class="p">,</span> <span class="n">genx</span><span class="p">,</span> <span class="n">geny</span><span class="p">,</span> <span class="n">gavx</span><span class="p">,</span> <span class="n">gavy</span><span class="p">,</span> <span class="n">henx</span><span class="p">,</span> <span class="n">heny</span><span class="p">,</span> <span class="n">havx</span><span class="p">,</span> <span class="n">havy</span><span class="p">,</span> <span class="n">ena</span><span class="p">,</span> <span class="n">ava</span><span class="p">,</span> <span class="n">evel</span><span class="p">,</span> <span class="n">avel</span><span class="p">,</span> <span class="n">pvel</span><span class="p">,</span> <span class="n">eupd_x</span><span class="p">,</span> <span class="n">eupd_y</span><span class="p">)</span>
	

<span class="c1">## A message event is created by your experiment program and placed in the EDF file.  It </span>
<span class="c1">#  is possible to enable the sending of these messages back through the link, although </span>
<span class="c1">#  there is rarely a reason to do this.  The MessageEvent class is designed to hold </span>
<span class="c1">#  information on %EyeLink message events retrieved from the link.  Please note that all </span>
<span class="c1">#  methods for the MessageEvent class do not take a parameter.</span>
<span class="c1">#</span>
<span class="c1">#  Returned by \c getFloatData() whenever there is a Message Event.</span>
<span class="k">class</span> <span class="nc">MessageEvent</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">time</span><span class="p">;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__type__</span> <span class="o">=</span> <span class="nb">type</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__text__</span> <span class="o">=</span> <span class="n">msg</span>
	
	<span class="c1">## Timestamp of the sample causing event (when camera imaged eye, </span>
	<span class="c1">#  in milliseconds since %EyeLink tracker was activated).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Long integer.</span>
	<span class="k">def</span> <span class="nf">getTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>

	<span class="c1">## The event code. This should be \c MESSAGEEVENT (i.e., 24).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Integer.</span>
	<span class="k">def</span> <span class="nf">getType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__type__</span>

	<span class="c1">## Message contents (max length 255 characters).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	String.</span>
	<span class="k">def</span> <span class="nf">getText</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text__</span>
	
	
<span class="k">def</span> <span class="nf">newMessageEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">MessageEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
	

<span class="c1">## IOEvent class is used to handle \c BUTTONEVENT and \c INPUTEVENT types, which report changes </span>
<span class="c1">#  in button status or in the input port data.  The \c getTime() method records the timestamp </span>
<span class="c1">#  of the eye-data sample where the change occurred, although the event itself is usually </span>
<span class="c1">#  sent before that sample.  Button events from the link are rarely used; monitoring buttons </span>
<span class="c1">#  with one of \c readKeybutton(), \c lastButtonPress(), or \c buttonStates() of the EyeLink class </span>
<span class="c1">#  methods is preferable, since these can report button states at any time, not just during </span>
<span class="c1">#  recording.</span>
<span class="c1">#</span>
<span class="c1">#  Returned by \c getFloatData() whenever there is an IOEvent.</span>
<span class="k">class</span> <span class="nc">IOEvent</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iotype</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">time</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__iotype__</span> <span class="o">=</span> <span class="n">iotype</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__data__</span> <span class="o">=</span> <span class="n">data</span>

	<span class="c1">## Timestamp of the sample causing event (in milliseconds since %EyeLink tracker was activated).	</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Long integer.</span>
	<span class="k">def</span> <span class="nf">getTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>

	<span class="c1">## The event code. This should be \c BUTTONEVENT (i.e., 25) or \c INPUTEVENT (i.e., 28).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#  	Integer.</span>
	<span class="k">def</span> <span class="nf">getType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__iotype__</span>

	<span class="c1">## Coded event data.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	Long integer.</span>
	<span class="k">def</span> <span class="nf">getData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span>

	<span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__time__</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2"> IOEvent type=&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__iotype__</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">data=&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="p">)</span>


<span class="c1">## A ButtonEvent class, derived from the IOEvent class, is created to handle specifics of </span>
<span class="c1">#  button events.  For this class, in addition to the generic IOEvent class methods, </span>
<span class="c1">#  two additional methods can be used for instances of the ButtonEvent class.</span>
<span class="c1">#</span>
<span class="c1">#  Returned by \c getFloatData() whenever there is a Button Event.</span>
<span class="k">class</span> <span class="nc">ButtonEvent</span><span class="p">(</span><span class="n">IOEvent</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
		<span class="n">IOEvent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">data</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__activeButtons__</span><span class="o">=</span><span class="nb">list</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__states__</span><span class="o">=</span><span class="nb">list</span><span class="p">()</span>
		
		<span class="n">b</span>  <span class="o">=</span> <span class="n">data</span><span class="o">&gt;&gt;</span><span class="mi">8</span>
		<span class="n">bs</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">&amp;</span> <span class="n">data</span>
		<span class="n">abuttons</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">abuttons</span><span class="p">:</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">__activeButtons__</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">__states__</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bs</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">)</span>
			<span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">&gt;&gt;</span><span class="mi">1</span>
			<span class="n">bs</span> <span class="o">=</span> <span class="n">bs</span> <span class="o">&gt;&gt;</span><span class="mi">1</span>

	<span class="c1">## A list of buttons pressed or released.</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	List of integers.</span>
	<span class="k">def</span> <span class="nf">getButtons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__activeButtons__</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
			<span class="k">return</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__activeButtons__</span>
		
	<span class="c1">## The button state (\c 1 for pressed or \c 0 for released).</span>
	<span class="c1">#  @return</span>
	<span class="c1">#	List of integers.</span>
	<span class="k">def</span> <span class="nf">getStates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__states__</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
			<span class="k">return</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__states__</span>
	
	<span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__time__</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2"> Button Event&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getType</span><span class="p">())</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getButtons</span><span class="p">())</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__states__</span><span class="p">)</span>
		

<span class="k">def</span> <span class="nf">newIOEvent</span><span class="p">(</span><span class="n">btype</span><span class="p">,</span><span class="n">time</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="c1">#       print(&quot;New IOEvent &quot;,str(BUTTONEVENT), str(btype))</span>
	<span class="k">if</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">btype</span><span class="p">)</span> <span class="o">==</span> <span class="n">constants</span><span class="o">.</span><span class="n">BUTTONEVENT</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">ButtonEvent</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">IOEvent</span><span class="p">(</span><span class="n">btype</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span><span class="n">data</span><span class="p">)</span>


<span class="c1">## The DisplayInfo class is used to contain information on display configurations, including </span>
<span class="c1">#  width, height, color bits, and refresh rate. The current display configuration can be </span>
<span class="c1">#  retrieved by the \c getDisplayInformation() function of the pylink module. </span>
<span class="c1">#</span>
<span class="c1">#  For example:</span>
<span class="c1">#  </span>
<span class="c1">#  	\code</span>
<span class="c1">#   	from pylink import *</span>
<span class="c1">#  </span>
<span class="c1">#  	// Code to open the display</span>
<span class="c1">#  	currentDisplay = getDisplayInformation();</span>
<span class="c1">#       print(&quot;Current display settings: &quot;, currentDisplay.width, currentDisplay.height, \</span>
<span class="c1">#  	print &quot;Current display settings: &quot;, currentDisplay.width, currentDisplay.height, \</span>
<span class="c1">#  					currentDisplay.bits, currentDisplay.refresh</span>
<span class="c1">#   	\endcode</span>
<span class="c1">#</span>

<span class="c1">#  The DisplayInfo has the following four attributes.</span>
<span class="c1">#	</span>
<span class="c1">#  &lt;table&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;width&lt;/td&gt;&lt;td&gt;Integer&lt;/td&gt;&lt;td&gt;Display width in screen pixels.&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;height&lt;/td&gt;&lt;td&gt;Integer&lt;/td&gt;&lt;td&gt;Display height in screen pixels.&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;bits&lt;/td&gt;&lt;td&gt;Integer&lt;/td&gt;&lt;td&gt;Color resolution, in bits per pixel, of the display device (for example: 4 bits for 16 colors, 8 bits for 256 colors, or 16 bits for 65,536 colors).&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;tr&gt;&lt;td&gt;refresh&lt;/td&gt;&lt;td&gt;Float&lt;/td&gt;&lt;td&gt;Refresh rate.&lt;/td&gt;&lt;/tr&gt;</span>
<span class="c1">#  &lt;/table&gt;</span>
<span class="c1">#  </span>
<span class="k">class</span> <span class="nc">DisplayInfo</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">bits</span><span class="p">,</span> <span class="n">refresh</span><span class="p">):</span>
	   <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
	   <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
	   <span class="bp">self</span><span class="o">.</span><span class="n">bits</span> <span class="o">=</span> <span class="n">bits</span>
	   <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span> <span class="o">=</span> <span class="n">refresh</span>

	<span class="c1">## @var width </span>
	<span class="c1">#  Display width in screen pixels.</span>
	
	<span class="c1">## @var height </span>
	<span class="c1">#  Display height in screen pixels.</span>
	
	<span class="c1">## @var bits </span>
	<span class="c1">#  Color resolution, in bits per pixel, of the display device (for example: 4 bits for 16 colors, 8 bits for 256 colors, or 16 bits for 65,536 colors).</span>
	
	<span class="c1">## @var refresh </span>
	<span class="c1">#  Refresh rate.           </span>

<span class="k">def</span> <span class="nf">newDisplayInfo</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">bits</span><span class="p">,</span> <span class="n">refresh</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">DisplayInfo</span><span class="p">(</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">,</span><span class="n">bits</span><span class="p">,</span> <span class="n">refresh</span><span class="p">)</span>


<span class="c1">## Class to represent tracker status information such as time stamps, flags, tracker addresses and so on.</span>
<span class="c1">#</span>
<span class="c1">#  A valid reference to this object can be obtained by calling the function \c EYELINK.getTrackerInfo().</span>
<div class="viewcode-block" id="ILinkData"><a class="viewcode-back" href="../../../../../pylink.html#mdl.eyetracking.win.pylink.tracker.ILinkData">[docs]</a><span class="k">class</span> <span class="nc">ILinkData</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_time</span>  <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_samrate</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_samdiv</span><span class="o">=</span> <span class="kc">None</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">_prescaler</span><span class="o">=</span> <span class="kc">None</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">_vprescaler</span><span class="o">=</span> <span class="kc">None</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">_pprescaler</span><span class="o">=</span> <span class="kc">None</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">_hprescaler</span><span class="o">=</span> <span class="kc">None</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">_sample_data</span><span class="o">=</span> <span class="kc">None</span> 
		<span class="bp">self</span><span class="o">.</span><span class="n">_event_data</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_event_types</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_in_sample_block</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_in_event_block</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_have_left_eye</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_have_right_eye</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_data_gap_types</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_data_buffer_type</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_data_buffer_size</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_control_read</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_first_in_block</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_data_item_time</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_data_item_type</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_data_item_contents</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_block_number</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_block_sample</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_block_event</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_resx</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_resy</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_pupil</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_status</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_queued_samples</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_queued_events</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_queue_size</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_queue_free</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_rcve_time</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_samples_on</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_events_on</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_packet_flags</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_link_flags</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_state_flags</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_link_dstatus</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_link_pendcmd</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_polling_remotes</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_poll_responses</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_reserved</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_our_name</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_eye_name</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_nodes</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_last_data_item</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_our_address</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_eye_address</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_ebroadcast_address</span><span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_rbroadcast_address</span><span class="o">=</span> <span class="kc">None</span>

	<span class="c1">## Time of last control event.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: Time.</span>
	<span class="k">def</span> <span class="nf">getTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>          
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time</span>

	<span class="c1">## 10*sample rate (\c 0 if no samples, \c 1 if nonconstant).</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: samrate.</span>
	<span class="k">def</span> <span class="nf">getSampleRate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>    
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_samrate</span>
	
	<span class="c1">## Sample &quot;divisor&quot; (min msec between samples).</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: samdiv.</span>
	<span class="k">def</span> <span class="nf">getSampleDivisor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_samdiv</span>
	
	<span class="c1">## Amount to divide gaze x,y,res by.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: prescaler.</span>
	<span class="k">def</span> <span class="nf">getPrescaler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>     
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prescaler</span>
		
	<span class="c1">## Amount to divide velocity by.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: vprescaler.</span>
	<span class="k">def</span> <span class="nf">getVelocityPrescaler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vprescaler</span>
	
	<span class="c1">## Pupil prescale (\c 1 if area, greater if diameter).</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: pprescaler.</span>
	<span class="k">def</span> <span class="nf">getPupilPrescaler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pprescaler</span>
	
	<span class="c1">## Head-distance prescale (to mm).</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: hprescaler.</span>
	<span class="k">def</span> <span class="nf">getHeadDistencePrescaler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hprescaler</span>
	
	<span class="c1">## \c 0 if off, else all flags.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: sample_data.</span>
	<span class="k">def</span> <span class="nf">getSampleDataFlags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sample_data</span>
	
	<span class="c1">## \c 0 if off, else all flags.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: event_data.</span>
	<span class="k">def</span> <span class="nf">getEventDataFlags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_data</span>
	
	<span class="c1">## \c 0 if off, else event-type flags.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: event_types.</span>
	<span class="k">def</span> <span class="nf">getEventTypeFlags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_types</span>
	
	<span class="c1">## Set if in block with samples.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: in_sample_block.</span>
	<span class="k">def</span> <span class="nf">isInBlockWithSamples</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_in_sample_block</span>
	
	<span class="c1">## Set if in block with events.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: in_event_block.</span>
	<span class="k">def</span> <span class="nf">isInBlockWithEvents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_in_event_block</span>
	
	<span class="c1">## Set if any left-eye data expected.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: have_left_eye.</span>
	<span class="k">def</span> <span class="nf">haveLeftEye</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_have_left_eye</span>
	
	<span class="c1">## Set if any right-eye data expected.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: have_right_eye.</span>
	<span class="k">def</span> <span class="nf">haveRightEye</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_have_right_eye</span>
	
	<span class="c1">## Flags what we lost before last item.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_data_gap_types.</span>
	<span class="k">def</span> <span class="nf">getLostDataTypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_data_gap_types</span>
	
	<span class="c1">## Buffer-type code.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_data_buffer_type.</span>
	<span class="k">def</span> <span class="nf">getLastBufferType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_data_buffer_type</span>
	
	<span class="c1">## Buffer size of last item.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_data_buffer_size.</span>
	<span class="k">def</span> <span class="nf">getLastBufferSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_data_buffer_size</span>
	
	<span class="c1">## Set if control event read with last data.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: control_read.</span>
	<span class="k">def</span> <span class="nf">isControlEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_control_read</span>
	
	<span class="c1">## Set if control event started new block.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: first_in_block.</span>
	<span class="k">def</span> <span class="nf">isNewBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_first_in_block</span>
	
	<span class="c1">## Time field of item.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_data_item_time.</span>
	<span class="k">def</span> <span class="nf">getLastItemTimeStamp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_data_item_time</span>
	
	<span class="c1">## Type: \c 100 = sample, \c 0 = none, else event type.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_data_item_type.</span>
	<span class="k">def</span> <span class="nf">getLastItemType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_data_item_type</span>
	
	<span class="c1">## Content: &amp;lt;read&amp;gt; (\c IEVENT), &amp;lt;flags&amp;gt; (\c ISAMPLE).</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_data_item_contents.</span>
	<span class="k">def</span> <span class="nf">getLastItemContent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_data_item_contents</span>
	
	<span class="c1">## Block in file.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: block_number.</span>
	<span class="k">def</span> <span class="nf">getBlockNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_number</span>
	
	<span class="c1">## Samples read in block so far.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: block_sample.</span>
	<span class="k">def</span> <span class="nf">getSamplesInBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_sample</span>
	
	<span class="c1">## Events (excl. control read in block).</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: block_event.</span>
	<span class="k">def</span> <span class="nf">getEventsInBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_event</span>
	
	<span class="c1">## Updated by samples only. </span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_resx.</span>
	<span class="k">def</span> <span class="nf">getLastResX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_resx</span>
	
	<span class="c1">## Updated by samples only.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_resy.</span>
	<span class="k">def</span> <span class="nf">getLastResY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_resy</span>
	
	<span class="c1">## Updated by samples only.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_pupil.</span>
	<span class="k">def</span> <span class="nf">getLastPupil</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_pupil</span>
	
	<span class="c1">## Updated by samples, events.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_status.</span>
	<span class="k">def</span> <span class="nf">getLastItemStatus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_status</span>
	
	<span class="c1">## Number of items in queue.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: queued_samples.</span>
	<span class="k">def</span> <span class="nf">getSampleQueueLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_queued_samples</span>
	
	<span class="c1">## Includes control events.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: queued_events.</span>
	<span class="k">def</span> <span class="nf">getEventQueueLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_queued_events</span>
	
	<span class="c1">## Total queue buffer size.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: queue_size.</span>
	<span class="k">def</span> <span class="nf">getQueueSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_queue_size</span>
	
	<span class="c1">## Unused bytes in queue.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: queue_free.</span>
	<span class="k">def</span> <span class="nf">getFreeQueueLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_queue_free</span>
	
	<span class="c1">## Time tracker last sent packet.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_rcve_time.</span>
	<span class="k">def</span> <span class="nf">getLastReceiveTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_rcve_time</span>
	
	<span class="c1">## Data type rcve enable (switch).</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: samples_on.</span>
	<span class="k">def</span> <span class="nf">isSamplesEnabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_samples_on</span>
	
	<span class="c1">## Data type rcve enable (switch).</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: events_on.</span>
	<span class="k">def</span> <span class="nf">isEventsEnabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events_on</span>
	
	<span class="c1">## Status flags from data packet.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: packet_flags.</span>
	<span class="k">def</span> <span class="nf">getPacketFlags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packet_flags</span>
	
	<span class="c1">## Status flags from link packet header.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: link_flags.</span>
	<span class="k">def</span> <span class="nf">getLinkFlags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_link_flags</span>
	
	<span class="c1">## Tracker error state flags.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: state_flags.</span>
	<span class="k">def</span> <span class="nf">getStateFlags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state_flags</span>
	
	<span class="c1">## Tracker data output state.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: link_dstatus.</span>
	<span class="k">def</span> <span class="nf">getTrackerDataOutputState</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_link_dstatus</span>
	
	<span class="c1">## Tracker commands pending.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: link_pendcmd.</span>
	<span class="k">def</span> <span class="nf">getPendingCommands</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_link_pendcmd</span>
	
	<span class="c1">## \c 1 if polling remotes, else polling trackers.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: polling_remotes.</span>
	<span class="k">def</span> <span class="nf">isPoolingRemote</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_polling_remotes</span>
	
	<span class="c1">## Total nodes responding to polling.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: poll_responses.</span>
	<span class="k">def</span> <span class="nf">getPoolResponse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_poll_responses</span>
	
	<span class="c1">## \c 0 for %EyeLink I or original %EyeLink API DLL.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: reserved.</span>
	<span class="k">def</span> <span class="nf">getReserved</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reserved</span>
	
	<span class="c1">## A name for our machine.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: our_name.</span>
	<span class="k">def</span> <span class="nf">getName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_our_name</span>
	
	<span class="c1">## Name of tracker connected to.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: eye_name.</span>
	<span class="k">def</span> <span class="nf">getTrackerName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_eye_name</span>
	
	<span class="c1">## Data on nodes.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: nodes.</span>
	<span class="k">def</span> <span class="nf">getNodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodes</span>
	
	<span class="c1">## Buffer containing last item.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: last_data_item.</span>
	<span class="k">def</span> <span class="nf">getLastItem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_data_item</span>
	
	<span class="c1">## Address of our machine.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: our_address.</span>
	<span class="k">def</span> <span class="nf">getAddress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_our_address</span>
	
	<span class="c1">## Address of the connected tracker.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: eye_address.</span>
	<span class="k">def</span> <span class="nf">getTrackerAddress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_eye_address</span>
	
	<span class="c1">## Broadcast address for eye trackers.</span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: ebroadcast_address.</span>
	<span class="k">def</span> <span class="nf">getTrackerBroadcastAddress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ebroadcast_address</span>
	
	<span class="c1">## Broadcast address for remotes </span>
	<span class="c1">#  Equivalent field in ILINKDATA &quot;C&quot;: rbroadcast_address.</span>
	<span class="k">def</span> <span class="nf">getRemoteBroadcastAddress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rbroadcast_address</span></div>


<span class="k">def</span> <span class="nf">_updatePerTrialDynamic</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span><span class="n">x</span><span class="p">):</span>
	<span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">_samrate</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_samdiv</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_prescaler</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_vprescaler</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_pprescaler</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_hprescaler</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_sample_data</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_event_data</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_event_types</span> <span class="p">)</span><span class="o">=</span><span class="n">x</span>


<span class="k">def</span> <span class="nf">_updateBooleanFlags</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
	<span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">_in_sample_block</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_in_event_block</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_have_left_eye</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_have_right_eye</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_samples_on</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_events_on</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_control_read</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_first_in_block</span><span class="p">)</span><span class="o">=</span><span class="n">x</span>


<span class="k">def</span> <span class="nf">_updateTimeStamps</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
	<span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">_time</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_data_item_time</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_rcve_time</span><span class="p">)</span><span class="o">=</span><span class="n">x</span>


<span class="k">def</span> <span class="nf">_updateStatusFlags</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
	<span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_status</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_packet_flags</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_link_flags</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_state_flags</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_link_dstatus</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_link_pendcmd</span><span class="p">)</span><span class="o">=</span><span class="n">x</span>


<span class="k">def</span> <span class="nf">_updateTypeFlags</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span><span class="n">x</span><span class="p">):</span>
	<span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_data_gap_types</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_data_buffer_type</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_data_item_type</span><span class="p">)</span><span class="o">=</span><span class="n">x</span>


<span class="k">def</span> <span class="nf">_updateSampleEventData</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">pl</span><span class="p">,</span> <span class="n">ldi</span><span class="p">):</span>
	<span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_data_buffer_size</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_data_item_contents</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_block_number</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_block_sample</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_block_event</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_resx</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_last_resy</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_queued_samples</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_queued_events</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_queue_size</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_queue_free</span><span class="p">)</span> <span class="o">=</span><span class="n">x</span> 
	<span class="n">dt</span><span class="o">.</span><span class="n">_last_pupil</span><span class="o">=</span> <span class="n">pl</span>
	<span class="n">dt</span><span class="o">.</span><span class="n">_last_data_item</span><span class="o">=</span><span class="n">ldi</span>
	
	
<span class="k">def</span> <span class="nf">_updateNetworkData</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">nodes</span><span class="p">):</span>
	<span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">_polling_remotes</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">_poll_responses</span><span class="p">)</span><span class="o">=</span> <span class="n">x</span>
	<span class="n">dt</span><span class="o">.</span><span class="n">_nodes</span><span class="o">=</span> <span class="n">nodes</span>


<span class="k">def</span> <span class="nf">_updateAddresses</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">nm</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
	<span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">_our_name</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_eye_name</span><span class="p">)</span><span class="o">=</span> <span class="n">nm</span>
	<span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">_eye_address</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">_our_address</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_ebroadcast_address</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">_rbroadcast_address</span><span class="p">)</span><span class="o">=</span><span class="n">ad</span>


<span class="k">def</span> <span class="nf">_updateReserved</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
	<span class="n">dt</span><span class="o">.</span><span class="n">_reserved</span><span class="o">=</span><span class="n">r</span>


<span class="k">def</span> <span class="nf">drawCalTarget</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
	<span class="k">if</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">EYELINK</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">):</span>
		<span class="n">constants</span><span class="o">.</span><span class="n">EYELINK</span><span class="o">.</span><span class="n">drawCalTarget</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
		

<span class="c1">## This represents a key input. This is used with EyeLinkCustomDisplay to notify the eyelink_core.dll </span>
<span class="c1">#  that a key input is available.</span>
<span class="k">class</span> <span class="nc">KeyInput</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">key</span><span class="p">,</span><span class="n">mod</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">state</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__key__</span> <span class="o">=</span> <span class="n">key</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__state__</span> <span class="o">=</span><span class="n">state</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__type__</span><span class="o">=</span> <span class="mh">0x1</span>
		<span class="bp">self</span><span class="o">.</span><span class="fm">__mod__</span> <span class="o">=</span> <span class="n">mod</span>
		



<span class="c1">## EyeLinkCustomDisplay is an abstract class, that one would implement to present calibration/validation/drift correction targets and</span>
<span class="c1">#  camera images.  In addition, EyeLinkCustomDisplay can also play target beeps and display error messages.</span>
<span class="c1">#</span>
<span class="c1">#  To use custom display do the following.</span>
<span class="c1">#	- 1. Implement EyeLinkCustomDisplay</span>
<span class="c1">#	- 2. Create an instance of the custom diplay object</span>
<span class="c1">#	- 3. Use pylink.openGraphicsEx to let pylink know to use the custom display object</span>
<span class="c1">#</span>
<span class="c1">#  \b Example:</span>
<span class="c1">#  @code</span>
<span class="c1">#  	genv = EyeLinkCoreGraphicsPyGame(800,600,eyelinktracker)</span>
<span class="c1">#	openGraphicsEx(genv)</span>
<span class="c1">#  @endcode</span>
<span class="c1">#  \link customdisplayexample Code to implement EyeLinkCustomDisplay using pygame.</span>
<div class="viewcode-block" id="EyeLinkCustomDisplay"><a class="viewcode-back" href="../../../../../pylink.html#mdl.eyetracking.win.pylink.tracker.EyeLinkCustomDisplay">[docs]</a><span class="k">class</span> <span class="nc">EyeLinkCustomDisplay</span><span class="p">:</span>
	<span class="c1">## Constructor takes no parameters</span>
	<span class="c1">#</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">pylink.pylink_c</span> <span class="k">import</span> <span class="n">request_cross_hair_draw</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">request_cross_hair_draw</span> <span class="o">=</span> <span class="n">request_cross_hair_draw</span>
		<span class="k">pass</span>
	<span class="c1">## Internal function to update the mage size. </span>
	<span class="c1">#  The size set by this function is used to draw cross hair when \c draw_cross_hair() is called</span>
	<span class="c1">#  This function should \b not be overrided and should \b not be called other than the </span>
	<span class="c1">#  display mechanism.</span>
	<span class="c1">#</span>
	<span class="c1">#  @param width Width of the image.</span>
	<span class="c1">#  @param height Height of the image.</span>
	<span class="k">def</span> <span class="nf">__updateimgsize__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__imgwidth__</span> <span class="o">=</span> <span class="n">width</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__imgheight__</span> <span class="o">=</span> <span class="n">height</span>

	<span class="c1">## This function is called to setup calibration/validation display. </span>
	<span class="c1">#  This will be called just before we enter into the calibration or validataion or drift correction mode.	</span>
	<span class="c1">#  Any allocation per calibration or validation drift corretion can be done here.</span>
	<span class="c1">#  Also, it is normal to clear the display in this call. </span>
	<span class="k">def</span> <span class="nf">setup_cal_display</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.setup_cal_display not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setup_cal_display</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>

	<span class="c1">## This function is called just before exiting calibration/validation display.</span>
	<span class="c1">#  Any resource allocation done in \c setup_cal_display() can be cleared. </span>
	<span class="k">def</span> <span class="nf">exit_cal_display</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.exit_cal_display not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exit_cal_display</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
	
	<span class="c1">## This function is called if abort of record. It is used to hide display from subject.	</span>
	<span class="k">def</span> <span class="nf">record_abort_hide</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.record_abort_hide not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">record_abort_hide</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>

	<span class="c1">## This function is used to setup image display. </span>
	<span class="c1">#  It takes expected image size of the source image. This may be called repeatedly for same display. If this fails,</span>
	<span class="c1">#  It should return \c 1 if success and \c 0 otherwise.	</span>
	<span class="c1">#</span>
	<span class="c1">#  @param width Width of the incoming image.</span>
	<span class="c1">#  @param height Height of the incoming image.</span>
	<span class="c1">#  @return \c 1 if success, \c 0 otherwise.</span>
	<span class="k">def</span> <span class="nf">setup_image_display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.setup_image_display not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setup_image_display</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>

	<span class="c1">## This function displays the camera image title. </span>
	<span class="c1">#  This is called whenever the title changes</span>
	<span class="c1">#</span>
	<span class="c1">#  @param title title change</span>
	<span class="k">def</span> <span class="nf">image_title</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.setup_cal_display not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_title</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>

	<span class="c1">## This function is used to display an image line. This function is called with an</span>
	<span class="c1">#  array of bytes containing picture colors. The byte on pixels are just palette</span>
	<span class="c1">#  indexes. This index should be used against the palette created on the call to</span>
	<span class="c1">#  \c set_image_palette_hook(). The image is given line by line from top to bottom.</span>
	<span class="c1">#  It may be efficient to collect one full image and do a full blit of the entire</span>
	<span class="c1">#  image.</span>
	<span class="c1"># </span>
	<span class="c1">#  @code</span>
	<span class="c1">#	i =0</span>
	<span class="c1">#	imline = self.imagebuffer[line-1]</span>
	<span class="c1">#	while i &lt;width:</span>
	<span class="c1">#			imline[i] = self.pal[buff[i]]</span>
	<span class="c1">#	i= i+1	</span>
	<span class="c1">#  @endcode</span>
	<span class="k">def</span> <span class="nf">draw_image_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">totlines</span><span class="p">,</span><span class="n">buff</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.draw_image_line not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_image_line</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>

	<span class="c1">## This function is called to setup the image palettes. The function is called </span>
	<span class="c1">#  with a set of RGB colors to set up for next image.</span>
	<span class="c1">#  @code</span>
	<span class="c1">#	self.pal = []</span>
	<span class="c1">#	while i &lt; sz:</span>
	<span class="c1">#		rf = int(b[i])</span>
	<span class="c1">#		gf = int(g[i])</span>
	<span class="c1">#		bf = int(r[i])</span>
	<span class="c1">#		self.pal.append((rf&lt;&lt;16) | (gf&lt;&lt;8) | (bf))</span>
	<span class="c1">#		i = i+1	</span>
	<span class="c1">#  @endcode</span>
	<span class="k">def</span> <span class="nf">set_image_palette</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">blue</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.set_image_palette not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_image_palette</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>

	<span class="c1">## Called to end the image display.</span>
	<span class="k">def</span> <span class="nf">exit_image_display</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.exit_image_display not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exit_image_display</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
	
	<span class="c1">## Called to clear the calibration display.</span>
	<span class="k">def</span> <span class="nf">clear_cal_display</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
	
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.clear_cal_display not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_cal_display</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>

	<span class="c1">## Called to erase the calibration or validation target.</span>
	<span class="c1">#  Erase the target drawn by the previous call to \c draw_cal_target().</span>
	<span class="k">def</span> <span class="nf">erase_cal_target</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.erase_cal_target not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">erase_cal_target</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
		
		
	<span class="c1">## Called to draw the calibration or validation target.		</span>
	<span class="c1">#  Draw a target at x,y and display it.</span>
	<span class="c1">#  </span>
	<span class="c1">#  @remark x and y values are relative to the active \c screen_pixel_coords command.</span>
	<span class="c1">#  @param x X location to draw the target.</span>
	<span class="c1">#  @param y Y location to draw the target. </span>
	<span class="k">def</span> <span class="nf">draw_cal_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.draw_cal_target not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_cal_target</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
		
	<span class="c1">## Called to play target beeps.</span>
	<span class="c1"># </span>
	<span class="c1">#  @param beepid Id of the beep to be played.</span>
	<span class="c1"># 	Possible values for beepid are:</span>
	<span class="c1">#	\arg CAL_ERR_BEEP   =-1</span>
	<span class="c1">#	\arg DC_ERR_BEEP    =-2</span>
	<span class="c1">#	\arg CAL_GOOD_BEEP  = 0</span>
	<span class="c1">#	\arg CAL_TARG_BEEP  = 1</span>
	<span class="c1">#	\arg DC_GOOD_BEEP   = 2</span>
	<span class="c1">#	\arg DC_TARG_BEEP   = 3</span>
	<span class="k">def</span> <span class="nf">play_beep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">beepid</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.play_beep not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">play_beep</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>

	<span class="c1">## This function should return list of KeyInput.</span>
	<span class="c1">#  If there are not keys, return an empty list or None.</span>
	<span class="k">def</span> <span class="nf">get_input_key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.get_input_key not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_input_key</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>

	<span class="c1">## Called to notify any error message to display or print.</span>
	<span class="k">def</span> <span class="nf">alert_printf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">msg</span><span class="p">):</span> 
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.alert_printf not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alert_printf</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
	
	<span class="c1">## Called to draw the cross hair, in response to the call to \c draw_cross_hair().</span>
	<span class="c1">#  This function should draw a line from (x1,y1) to (x2,y2). The x and y values</span>
	<span class="c1">#  are relative to the width and height of the image, given at \c setup_image_display().</span>
	<span class="c1">#</span>
	<span class="c1">#  @param x1 Starting x position.</span>
	<span class="c1">#  @param y1 Starting y position.</span>
	<span class="c1">#  @param x2 Ending x position.</span>
	<span class="c1">#  @param y2 Ending y position.</span>
	<span class="c1">#  @param colorindex Color id of the line.</span>
	<span class="c1">#  	Possible value for colorindex are:</span>
	<span class="c1">#	\arg CR_HAIR_COLOR=1</span>
	<span class="c1">#	\arg PUPIL_HAIR_COLOR=2</span>
	<span class="c1">#	\arg PUPIL_BOX_COLOR=3</span>
	<span class="c1">#	\arg SEARCH_LIMIT_BOX_COLOR=4</span>
	<span class="c1">#	\arg MOUSE_CURSOR_COLOR=5</span>
	<span class="k">def</span> <span class="nf">draw_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">colorindex</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.draw_line not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_line</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
	
	<span class="c1">## Called to draw the cross hair, in response to the call to \c draw_cross_hair().</span>
	<span class="c1">#  This function should draw an lozenge bounded by the box (x,y),(width,height). The x and y values</span>
	<span class="c1">#  are relative to the width and height of the image, given at \c setup_image_display().</span>
	<span class="c1"># </span>
	<span class="c1">#  @remark This function is not used at the moment.</span>
	<span class="c1">#  @param x Starting x position.</span>
	<span class="c1">#  @param y Starting y position.</span>
	<span class="c1">#  @param width  bounding width</span>
	<span class="c1">#  @param height bounding height</span>
	<span class="c1">#  @param colorindex Color id of the ellipse.</span>
	<span class="c1"># 	Possible value for colorindex are:</span>
	<span class="c1">#	\arg CR_HAIR_COLOR=1</span>
	<span class="c1">#	\arg PUPIL_HAIR_COLOR=2</span>
	<span class="c1">#	\arg PUPIL_BOX_COLOR=3</span>
	<span class="c1">#	\arg SEARCH_LIMIT_BOX_COLOR=4</span>
	<span class="c1">#	\arg MOUSE_CURSOR_COLOR=5</span>
	<span class="k">def</span> <span class="nf">draw_lozenge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">,</span><span class="n">colorindex</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.draw_lozenge not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_lozenge</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
	
	<span class="c1">## Called to get the mouse location.  </span>
	<span class="c1">#  This function should return the mouse location and the state at the time of call. ((x,y),state).</span>
	<span class="c1">#  At the moment we only care if the mouse is clicked or not. So, if clicked the state = 1, 0 otherwise.</span>
	<span class="c1">#  This function is only useful for EyeLink1000.</span>
	<span class="k">def</span> <span class="nf">get_mouse_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.get_mouse_state not implemented&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
		<span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mouse_state</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
	
	
	<span class="c1">## User call this function to request draw cross hair.</span>
	<span class="c1">#  After completion of filling in the camera image, call this function to draw the</span>
	<span class="c1">#  cross hair on the camera image.</span>
	<span class="k">def</span> <span class="nf">draw_cross_hair</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">request_cross_hair_draw</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>
</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2019, Semeon Risom.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>